# NetNynja Enterprise - Issues Tracker

> Active issues and technical debt tracking

**Version**: 0.1.15
**Last Updated**: 2026-01-11 (Session)
**Open Issues**: 3 | **Resolved Issues**: 109 | **Won't Fix**: 0

## Issue Categories

- ðŸ”´ **Critical** - Blocking issues that prevent core functionality
- ðŸŸ  **High** - Important issues that should be resolved soon
- ðŸŸ¡ **Medium** - Issues that should be addressed in normal development
- ðŸŸ¢ **Low** - Nice-to-have improvements

---

## Open Issues

### GitHub Actions CI/CD Failures (2026-01-10)

> Status: PARTIAL | Critical TypeScript errors fixed, remaining issues require CI environment validation

| ID     | Priority | Title                                                               | Workflow                | Status   |
| ------ | -------- | ------------------------------------------------------------------- | ----------------------- | -------- |
| CI-001 | ðŸ”´       | Build Gateway fails - npm run build workspace command fails         | build-images.yml        | Resolved |
| CI-002 | ðŸ”´       | Build Web UI fails - @netnynja/shared-types not found               | build-images.yml        | Resolved |
| CI-003 | ðŸ”´       | Build Auth Service fails - @netnynja/shared-types not found         | build-images.yml        | Resolved |
| CI-004 | ðŸ”´       | Build Syslog Service fails - missing main.py                        | build-images.yml        | Resolved |
| CI-005 | ðŸŸ        | Validate Workspaces fails on all platforms (ubuntu, macos, windows) | validate-workspaces.yml | Open     |
| CI-006 | ðŸŸ        | Container Vulnerability Scan Docker build errors                    | security-scan.yml       | Resolved |
| CI-007 | ðŸŸ¢       | CodeQL SARIF upload now working (repository made public)            | security-scan.yml       | Resolved |
| CI-008 | ðŸ”´       | test.yml invalid workflow - hashFiles() unrecognized function       | test.yml (Line 110)     | Resolved |
| CI-009 | ðŸŸ        | CodeQL Action v3 deprecation warning                                | security-scan.yml       | Resolved |
| CI-010 | ðŸ”´       | "Resource not accessible by integration" permission errors          | security-scan.yml       | Resolved |

**Security Scan Summary (2026-01-11 - Latest):**

| Scan Type       | Status  |
| --------------- | ------- |
| Container Scan  | success |
| Dependency Scan | success |
| IaC Scan        | success |
| Secret Scan     | success |

**CI-007 Details (CodeQL Analysis - Resolved):**

- CodeQL Analysis and SARIF uploads now working
- **Resolution**: Repository made public on 2026-01-11
- Code Scanning is free for public repositories
- Security findings now appear in GitHub Security tab

**Build Images Summary (2026-01-11):**

| Service      | Status |
| ------------ | ------ |
| Gateway      | âœ…     |
| Web UI       | âœ…     |
| Auth Service | âœ…     |
| IPAM         | âœ…     |
| NPM          | âœ…     |
| STIG         | âœ…     |
| Syslog       | âœ…     |

**Docker Build Fixes (2026-01-11):**

- âœ… CI-001/002/003/004: Rewrote Gateway, Web UI, Auth Service, Syslog Dockerfiles with proper multi-stage builds
  - Added `deps` stage to install monorepo workspace dependencies
  - Added `builder` stage to build shared packages (shared-types, shared-auth, shared-ui) before app build
  - Production stage copies built shared packages to node_modules/@netnynja/
  - Added `target: production` to workflow build steps
  - Removed redundant Node.js/npm pre-build steps from workflow (Docker handles all building)
  - **CI-001 Fix**: Reordered COPY commands (source first, then node_modules), added explicit symlinks for workspace packages in builder stage
  - Added `NODE_OPTIONS="--max-old-space-size=4096"` for CI memory
  - Added `npm cache clean --force` to reduce layer size
- âœ… CI-004: Created missing `apps/syslog/src/syslog/main.py` FastAPI entry point
  - Added health endpoints (/healthz, /livez, /readyz)
  - Imported settings from config module
- âœ… CI-008: Fixed test.yml hashFiles() error
  - Replaced job-level `if: hashFiles()` with a check step that sets output variable
  - hashFiles() is not available in job-level conditions
- âœ… CI-009/010: Fixed security scan workflow
  - Upgraded all CodeQL actions from v3 to v4
  - Added `actions: read` permission to all jobs
  - Added `continue-on-error: true` to SARIF upload steps
- âœ… CI-006: Fixed security-scan.yml container builds
  - Removed redundant npm ci/build steps (Dockerfiles are self-contained)
  - Container scans now build successfully

---

### Application Runtime Issues (2026-01-11)

| ID      | Priority | Title                                                  | Category | Status |
| ------- | -------- | ------------------------------------------------------ | -------- | ------ |
| APP-008 | ðŸŸ        | STIG Library page returns 500 error on page load       | STIG     | Open   |
| APP-009 | ðŸŸ        | Auto-polling not working and Poll Now button no effect | Polling  | Open   |

**APP-008 Details:**

- **Symptom**: STIG Library page displays "Request failed with status code 500"
- **Location**: `/stig/library` route
- **Impact**: Users cannot view or upload STIG definitions

**APP-009 Details:**

- **Symptom**: Application does not auto-poll for updates; "Poll Now" button has no visible effect
- **Location**: Background poller / UI polling controls
- **Impact**: Real-time data updates not functioning; manual refresh required

---

### E2E Review (Codex 2026-01-10)

> E2E status: PASSING | All Sprint 1 and Sprint 2 blockers resolved

| ID      | Priority | Title                                                      | Category | Assignees       | Status   |
| ------- | -------- | ---------------------------------------------------------- | -------- | --------------- | -------- |
| APP-001 | ðŸ”´       | Gateway not responding on /healthz                         | API      | Claude, Meadows | Resolved |
| APP-002 | ðŸ”´       | Auth service unhealthy; blocks gateway startup             | Auth     | Claude, Meadows | Resolved |
| APP-003 | ðŸŸ¡       | Grafana health check fails (preflight port mismatch)       | Tooling  | Claude, Meadows | Resolved |
| APP-004 | ðŸŸ        | NPM collector/alerts crash on startup (structlog logger)   | NPM      | Claude, Meadows | Resolved |
| APP-005 | ðŸŸ        | STIG collector/reports crash on import (staticmethod type) | STIG     | Claude, Meadows | Resolved |
| APP-006 | ðŸŸ¡       | IPAM scanner restart loop with module re-import warning    | IPAM     | Claude, Meadows | Resolved |
| APP-007 | ðŸŸ¢       | Preflight trace count warning (integer parsing error)      | Tooling  | Claude, Meadows | Resolved |

### Security Review (Codex 2026-01-10)

> Security posture: Strong | CI readiness: Ready (pending npm audit)

| ID     | Priority | Title                                                       | Category      | Status   |
| ------ | -------- | ----------------------------------------------------------- | ------------- | -------- |
| SR-001 | ðŸ”´       | Default admin seed credentials in repo                      | Secrets       | Resolved |
| SR-002 | ðŸ”´       | Hardcoded default JWT secret in STIG config                 | Auth          | Resolved |
| SR-003 | ðŸŸ¡       | JWT audience/issuer verification disabled in STIG           | Auth          | Resolved |
| SR-004 | ðŸ”´       | Default encryption key + static salt for SNMPv3 credentials | Crypto        | Resolved |
| SR-005 | ðŸŸ¡       | NPM crypto uses JWT_SECRET fallback with static salt        | Crypto        | Resolved |
| SR-006 | ðŸŸ¡       | Unauthenticated /metrics endpoint                           | Auth          | Resolved |
| SR-007 | ðŸŸ¡       | Auth tokens stored in localStorage (XSS vulnerable)         | Auth          | Resolved |
| SR-008 | ðŸŸ¡       | CORS defaults to origin:true with credentials               | Auth          | Resolved |
| SR-009 | ðŸŸ¢       | NATS connection lacks TLS/auth enforcement                  | Messaging     | Resolved |
| SR-010 | ðŸŸ¢       | Prometheus metrics label escaping and cardinality           | Observability | Resolved |
| SR-011 | ðŸŸ¢       | npm audit: React Router XSS + esbuild advisory              | Dependencies  | Resolved |
| SR-012 | ðŸŸ¡       | Prettier fails on Helm templates (CI blocker)               | CI            | Resolved |

---

### Phase 0: Repository Setup

| ID   | Priority | Title                                    | Assignee | Status   |
| ---- | -------- | ---------------------------------------- | -------- | -------- |
| #001 | ðŸŸ¡       | Validate npm workspaces on all platforms | -        | Resolved |
| #002 | ðŸŸ¡       | Test Poetry install on Windows           | -        | Resolved |
| #003 | ðŸŸ¢       | Add pre-commit hooks                     | -        | Resolved |

### E2E Testing

| ID   | Priority | Title                                                         | Assignee | Status   |
| ---- | -------- | ------------------------------------------------------------- | -------- | -------- |
| #040 | ðŸŸ¡       | Frontend tests fail - web-ui not running on port 5173         | -        | Resolved |
| #041 | ðŸŸ        | Logout endpoint returns 400 due to empty JSON body validation | -        | Resolved |
| #042 | ðŸŸ        | Operator role cannot delete networks (403 Forbidden)          | -        | Resolved |
| #043 | ðŸŸ¡       | OpenAPI documentation not exposed at /docs                    | -        | Resolved |
| #044 | ðŸŸ¡       | Grafana dashboards not provisioned                            | -        | Resolved |
| #045 | ðŸŸ¡       | VictoriaMetrics missing netnynja\_\* metrics                  | -        | Resolved |

### Infrastructure

| ID   | Priority | Title                                | Assignee | Status   |
| ---- | -------- | ------------------------------------ | -------- | -------- |
| #010 | ðŸŸ        | Configure production Vault unsealing | -        | Resolved |
| #011 | ðŸŸ¡       | Add PostgreSQL backup scripts        | -        | Resolved |
| #012 | ðŸŸ¡       | Configure log rotation for Loki      | -        | Resolved |

### Security

| ID   | Priority | Title                                   | Assignee | Status   |
| ---- | -------- | --------------------------------------- | -------- | -------- |
| #020 | ðŸ”´       | Generate production JWT RSA keys        | -        | Resolved |
| #021 | ðŸŸ        | Implement rate limiting in gateway      | -        | Resolved |
| #022 | ðŸŸ        | Add CORS configuration                  | -        | Resolved |
| #023 | ðŸŸ¡       | Set up container vulnerability scanning | -        | Resolved |

### Technical Debt

| ID   | Priority | Title                           | Assignee | Status   |
| ---- | -------- | ------------------------------- | -------- | -------- |
| #030 | ðŸŸ¡       | Add comprehensive test coverage | -        | Resolved |
| #031 | ðŸŸ¢       | Document API with OpenAPI spec  | -        | Resolved |
| #032 | ðŸŸ¢       | Add performance benchmarks      | -        | Resolved |

### Phase 8: Cross-Platform Testing

| ID   | Priority | Title                                            | Assignee | Status   |
| ---- | -------- | ------------------------------------------------ | -------- | -------- |
| #050 | ðŸŸ¡       | Port conflict: Grafana 3000 vs Vite dev server   | -        | Resolved |
| #051 | ðŸŸ¡       | Port conflict: Auth service 3002 vs Grafana 3002 | -        | Resolved |

### IPAM Module

| ID   | Priority | Title                                                | Assignee | Status   |
| ---- | -------- | ---------------------------------------------------- | -------- | -------- |
| #060 | ðŸŸ¡       | Cancel button not visible in Add Network modal       | -        | Resolved |
| #061 | ðŸŸ        | Network "Active" status is hardcoded, not functional | -        | Resolved |
| #062 | ðŸŸ        | Missing network scan/discovery feature               | -        | Resolved |
| #063 | ðŸŸ¡       | Missing site designation field for networks          | -        | Resolved |

### User Management

| ID   | Priority | Title                                      | Assignee | Status   |
| ---- | -------- | ------------------------------------------ | -------- | -------- |
| #064 | ðŸŸ        | No user management UI for admins and roles | -        | Resolved |

### NPM Module

| ID   | Priority | Title                                                         | Assignee | Status   |
| ---- | -------- | ------------------------------------------------------------- | -------- | -------- |
| #070 | ðŸŸ        | Add SNMPv3 credentials management for FIPS compliance         | -        | Resolved |
| #071 | ðŸ”´       | SNMPv3 Credentials - Security Level does not display          | -        | Resolved |
| #072 | ðŸ”´       | SNMPv3 Credentials - Auth Protocol does not display           | -        | Resolved |
| #073 | ðŸ”´       | SNMPv3 Credentials - Privacy Protocol does not display        | -        | Resolved |
| #074 | ðŸ”´       | SNMPv3 Credentials - Request failed with status 500           | -        | Resolved |
| #075 | ðŸ”´       | SNMPv3 Credentials - Cannot create and save credential        | -        | Resolved |
| #076 | ðŸŸ        | Need network discovery with ping/SNMPv3 options               | -        | Resolved |
| #077 | ðŸŸ        | Need ability to add devices discovered by IPAM                | -        | Resolved |
| #078 | ðŸŸ¡       | Need ability to export NPM Status/Health to PDF               | -        | Resolved |
| #079 | ðŸŸ        | SNMPv3 devices should show CPU, Memory, latency, availability | -        | Resolved |
| #080 | ðŸŸ¡       | Need ability to group devices                                 | -        | Resolved |
| #081 | ðŸŸ        | Need ability to monitor 3000 devices with volumes/interfaces  | -        | Resolved |

### Settings Module

| ID   | Priority | Title                                                     | Assignee | Status   |
| ---- | -------- | --------------------------------------------------------- | -------- | -------- |
| #082 | ðŸŸ        | Users - Need ability to disable users (not self/admin)    | -        | Resolved |
| #083 | ðŸŸ        | Users - Admin-only ability to change other user passwords | -        | Resolved |

### IPAM Module (New Issues)

| ID   | Priority | Title                                              | Assignee | Status   |
| ---- | -------- | -------------------------------------------------- | -------- | -------- |
| #084 | ðŸŸ        | Need ability to add and scan networks              | -        | Resolved |
| #085 | ðŸŸ¡       | Need ability to group discovered hosts by site     | -        | Resolved |
| #086 | ðŸŸ        | Need ability to rescan networks                    | -        | Resolved |
| #087 | ðŸŸ¡       | Need ability to fingerprint discovered hosts       | -        | Resolved |
| #088 | ðŸŸ        | Need discovery via PING and NMAP                   | -        | Resolved |
| #089 | ðŸŸ¡       | Need ability to delete scans                       | -        | Resolved |
| #090 | ðŸŸ¡       | Need ability to modify scan attributes             | -        | Resolved |
| #091 | ðŸŸ¡       | Need ability to export scan reports to PDF and CSV | -        | Resolved |

### STIG Module (New Issues)

| ID   | Priority | Title                                                                  | Assignee | Status   |
| ---- | -------- | ---------------------------------------------------------------------- | -------- | -------- |
| #092 | ðŸ”´       | Adding asset - Platform/Connection type not visible                    | -        | Resolved |
| #093 | ðŸŸ        | Need STIG library to upload/manage STIGs from .zip files               | -        | Resolved |
| #094 | ðŸŸ        | Missing platforms: pfSense, Arista, HPE Aruba, RHEL, FreeBSD, Mellanox | -        | Resolved |
| #095 | ðŸŸ        | Assets must be editable with STIG selection                            | -        | Resolved |
| #096 | ðŸŸ        | Need ability to import .ckl, .cklb, .xml files                         | -        | Resolved |

### Platform / New Features

| ID   | Priority | Title                                                       | Assignee | Status   |
| ---- | -------- | ----------------------------------------------------------- | -------- | -------- |
| #097 | ðŸŸ        | Add Syslog module to navigation (between STIG and Settings) | -        | Resolved |

### Syslog Module

| ID   | Priority | Title                                                    | Assignee | Status   |
| ---- | -------- | -------------------------------------------------------- | -------- | -------- |
| #098 | ðŸŸ        | Syslog - UDP 514 listener with device/event type parsing | -        | Resolved |
| #099 | ðŸŸ        | Syslog - 10GB circular buffer before overwrite           | -        | Resolved |
| #100 | ðŸŸ        | Syslog - Server off-load / forwarder capability          | -        | Resolved |

### IPAM Scanning (Windows Testing)

| ID   | Priority | Title                                                 | Assignee | Status   |
| ---- | -------- | ----------------------------------------------------- | -------- | -------- |
| #101 | ðŸ”´       | IPAM TCP/NMAP scans stuck at pending status (Windows) | -        | Resolved |

### NPM Module (New Issues)

| ID   | Priority | Title                                                               | Assignee | Status   |
| ---- | -------- | ------------------------------------------------------------------- | -------- | -------- |
| #102 | ðŸŸ        | NPM - Poll Now button needed with Ping/SNMPv3 method selection      | -        | Resolved |
| #103 | ðŸ”´       | NPM - Continuous background polling needed (default 5 min interval) | -        | Resolved |
| #104 | ðŸ”´       | NPM - Poll Now fails with PostgreSQL parameter type error           | -        | Resolved |
| #105 | ðŸŸ        | NPM - Need intuitive way to enable SNMPv3 in Device Properties      | -        | Resolved |
| #106 | ðŸŸ        | IPAM - Allow multi-select scan types (Ping+TCP+NMAP simultaneously) | -        | Resolved |
| #107 | ðŸŸ        | IPAM - Fingerprinting not working (hostname, MAC, vendor)           | -        | Resolved |
| #108 | ðŸŸ¡       | IPAM - Show all results on page (pagination controls needed)        | -        | Resolved |
| #109 | ðŸŸ¡       | IPAM - Need ability to delete scans from Networks Page              | -        | Resolved |
| #110 | ðŸ”´       | IPAM - View Scans API fails: "column name does not exist"           | -        | Resolved |
| #111 | ðŸ”´       | IPAM - NMAP scans fail: "nmap is not installed or not in PATH"      | -        | Resolved |
| #112 | ðŸŸ¡       | IPAM - MAC addresses not detected in NMAP scans (Docker network)    | -        | Resolved |

---

## Resolved Issues

| ID      | Priority | Title                                                            | Resolved Date | Resolution                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| ------- | -------- | ---------------------------------------------------------------- | ------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| #040    | ðŸŸ¡       | Frontend tests fail - web-ui not running on port 5173            | 2026-01-06    | Fixed `BASE_URL` in test_frontend.py to port 3000 (per vite.config.ts) and corrected test password                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| #041    | ðŸŸ        | Logout endpoint returns 400 due to empty JSON body               | 2026-01-06    | Modified auth.ts logout route to not send Content-Type header when no body, and handle empty responses                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| #042    | ðŸŸ        | Operator role cannot delete networks                             | 2026-01-06    | Updated IPAM delete route RBAC from `admin` only to `admin, operator` in ipam/index.ts:288                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| #020    | ðŸ”´       | Generate production JWT RSA keys                                 | 2026-01-06    | Created generate-jwt-keys.sh script for 4096-bit RSA PKCS#8 key generation; Updated .gitignore and .env.example with RS256 config; Keys tested with jose library                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| #021    | ðŸŸ        | Implement rate limiting in gateway                               | 2026-01-06    | Enhanced rate-limit.ts with tiered limits: 100/min default, 10/min for auth endpoints, role-based multipliers (admin 3x, operator 2x); allowList for health endpoints; Updated error-handler.ts for 429 responses; Added config to .env.example                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| #022    | ðŸŸ        | Add CORS configuration                                           | 2026-01-06    | Enhanced config.ts with CORS_ORIGIN, CORS_CREDENTIALS, CORS_MAX_AGE, CORS_EXPOSED_HEADERS; Updated index.ts to use all config options; Added CORS Configuration section to .env.example with documentation                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| #045    | ðŸŸ¡       | VictoriaMetrics missing netnynja\_\* metrics                     | 2026-01-06    | Created metrics.ts plugin with prom-client; HTTP metrics (requests, duration, size), auth metrics, rate limit metrics, IPAM metrics, DB/Redis metrics; Endpoint at /metrics; Metrics use netnynja\_\* prefix for dashboards                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| #043    | ðŸŸ¡       | OpenAPI documentation at /docs                                   | 2026-01-06    | Already working - endpoint redirects /docs to /docs/ which serves Swagger UI properly                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| #044    | ðŸŸ¡       | Grafana dashboards not provisioned                               | 2026-01-06    | Added dashboards volume mount to docker-compose.yml; Created gateway-overview.json, ipam-overview.json, system-overview.json dashboards; Existing npm-overview.json and stig-overview.json now properly provisioned                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| #023    | ðŸŸ¡       | Set up container vulnerability scanning                          | 2026-01-06    | Created .github/workflows/security-scan.yml (Trivy, CodeQL, npm audit, SBOM), infrastructure/security/ with scan-containers.sh, trivy.yaml config, .trivyignore, and comprehensive README                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| #012    | ðŸŸ¡       | Configure log rotation for Loki                                  | 2026-01-06    | Enhanced loki.yml with stream-specific retention (audit:1yr, auth:90d, errors:60d, debug:7d), compactor settings (apply_retention_interval, delete_max_interval), WAL replay ceiling, and comprehensive documentation                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| #011    | ðŸŸ¡       | Add PostgreSQL backup scripts                                    | 2026-01-06    | Created infrastructure/postgres/ with backup.sh (compressed pg_dump with retention), restore.sh (supports Docker and direct restore), and comprehensive README.md with cron examples                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| #010    | ðŸŸ        | Configure production Vault unsealing                             | 2026-01-06    | Created infrastructure/vault/ with: vault-config.hcl (production config with auto-unseal options), policies/ (admin, gateway, service), scripts/ (init-vault.sh, unseal-vault.sh, setup-policies.sh, setup-secrets.sh), docker-compose.vault.yml, and comprehensive README.md                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| #001    | ðŸŸ¡       | Validate npm workspaces on all platforms                         | 2026-01-06    | Created scripts/validate-workspaces.sh with comprehensive checks; Added .github/workflows/validate-workspaces.yml for cross-platform CI; Updated clean scripts to use rimraf for Windows compatibility; Added rimraf@6.1.2 as devDependency                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| #002    | ðŸŸ¡       | Test Poetry install on Windows                                   | 2026-01-06    | Created scripts/validate-poetry.ps1 (PowerShell) and scripts/validate-poetry.sh (bash); Added .github/workflows/validate-poetry.yml for multi-platform CI; Checks Python/Poetry versions, pyproject.toml, dependency resolution, Windows-specific settings (long paths, VS Build Tools)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| #003    | ðŸŸ¢       | Add pre-commit hooks                                             | 2026-01-06    | Created .husky/pre-commit (lint-staged, security checks), .husky/commit-msg (conventional commits), .husky/pre-push (build verification); Added .pre-commit-config.yaml for Python (black, ruff, mypy, bandit); Added .yamllint.yml and .secrets.baseline configs                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| #030    | ðŸŸ¡       | Add comprehensive test coverage                                  | 2026-01-06    | Created Jest config for gateway; Added test setup with mocks; Created config.test.ts (27 tests), rate-limit.test.ts (33 tests), health.test.ts (8 tests); All 67 tests passing; Added .github/workflows/test.yml for CI                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| #031    | ðŸŸ¢       | Document API with OpenAPI spec                                   | 2026-01-06    | Enhanced swagger.ts with comprehensive OpenAPI 3.1.0 documentation; Added schemas for all entities (User, Network, Subnet, IPAddress, Device, Alert, Benchmark, Assessment, etc.); Added reusable responses and parameters                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| #032    | ðŸŸ¢       | Add performance benchmarks                                       | 2026-01-06    | Created benchmark suite using autocannon; health.benchmark.js (healthz, livez, readyz), auth.benchmark.js (login, profile, refresh), ipam.benchmark.js (networks, subnets, addresses, devices); Added run-all.js runner with JSON output; Added npm scripts (benchmark, benchmark:health, benchmark:auth, benchmark:ipam)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| #050    | ðŸŸ¡       | Port conflict: Grafana 3000 vs Vite dev server                   | 2026-01-07    | Changed Grafana port from 3000 to 3002 via GRAFANA_PORT env variable in docker-compose.yml; Updated .env.example with standardized port allocation documentation                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| #051    | ðŸŸ¡       | Port conflict: Auth service 3002 vs Grafana 3002                 | 2026-01-07    | Changed auth service port from 3002 to 3006; Updated services/auth-service/.env, apps/gateway/.env, and config defaults; Created standardized port allocation (3000-3006)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| #060    | ðŸŸ¡       | Cancel button not visible in Add Network modal                   | 2026-01-07    | Added text-gray-700 and dark:text-gray-200 to Button outline variant in shared-ui/Button.tsx                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
| #061    | ðŸŸ        | Network "Active" status is hardcoded, not functional             | 2026-01-07    | Added isActive checkbox to Add Network modal; Updated gateway routes and database queries to handle isActive field; Updated UI to show actual status                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| #062    | ðŸŸ        | Missing network scan/discovery feature                           | 2026-01-07    | Feature already exists: POST /networks/:id/scan endpoint triggers network scans; NetworkDetailPage has "Scan Network" button; IPAM store has startScan function                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| #063    | ðŸŸ¡       | Missing site designation field for networks                      | 2026-01-07    | Added site column to ipam.networks table; Updated gateway routes, Zod schema, shared-types; Added Site input to Add Network modal and Site column to networks table                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| #064    | ðŸŸ        | No user management UI for admins and roles                       | 2026-01-07    | Created complete user management: apps/gateway/src/routes/users.ts (CRUD + reset password + unlock); apps/web-ui/src/stores/users.ts; apps/web-ui/src/modules/settings/pages/UsersPage.tsx; Added Settings module to navigation with admin-only access                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| #070    | ðŸŸ        | Add SNMPv3 credentials management for FIPS compliance            | 2026-01-07    | Created complete SNMPv3 credential management: npm.snmpv3*credentials table with encrypted storage; apps/gateway/src/routes/npm/snmpv3-credentials.ts (CRUD, test, device lookup); apps/web-ui/src/stores/snmpv3-credentials.ts; apps/web-ui/src/modules/npm/pages/SNMPv3CredentialsPage.tsx; Updated device model for ICMP/SNMPv3 polling; FIPS-compliant auth (SHA-*) and privacy (AES-\_) protocols; AES-256-GCM password encryption                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| #071    | ðŸ”´       | SNMPv3 Credentials - Security Level does not display             | 2026-01-08    | Root cause: npm.snmpv3_credentials table missing from database. Created table, index, trigger. Fixed TypeScript type errors in SNMPv3CredentialsPage.tsx (securityLevelVariants type). API now returns securityLevel correctly.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| #072    | ðŸ”´       | SNMPv3 Credentials - Auth Protocol does not display              | 2026-01-08    | Same root cause as #071. Fixed by creating database table. API properly returns authProtocol field.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| #073    | ðŸ”´       | SNMPv3 Credentials - Privacy Protocol does not display           | 2026-01-08    | Same root cause as #071. Fixed by creating database table. API properly returns privProtocol field.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| #074    | ðŸ”´       | SNMPv3 Credentials - Request failed with status 500              | 2026-01-08    | Root cause: npm.snmpv3_credentials table did not exist. Created table with full schema, indexes, and triggers. Fixed TypeScript errors in decrypt function (Buffer.from type safety).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| #075    | ðŸ”´       | SNMPv3 Credentials - Cannot create and save credential           | 2026-01-08    | Same as #074. POST /api/v1/npm/snmpv3-credentials now works. Tested successfully with FIPS-compliant credentials.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| #092    | ðŸ”´       | Adding asset - Platform/Connection type not visible              | 2026-01-08    | Fixed Select component text color (added text-gray-900 for light mode). Updated STIG module index to use correct named exports. Platform and Connection Type dropdowns now display correctly.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| #082    | ðŸŸ        | Users - Need ability to disable users (not self/admin)           | 2026-01-08    | Backend: Added validation in users.ts to prevent self-disable and last admin disable/demote. Frontend: Disabled isActive checkbox when editing self with warning message in UsersPage.tsx.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| #083    | ðŸŸ        | Users - Admin-only ability to change other user passwords        | 2026-01-08    | Already implemented. Backend /:id/reset-password endpoint protected by requireRole("admin"). Frontend has Reset Password modal with validation. Verified working.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| #094    | ðŸŸ        | Missing platforms: pfSense, Arista, etc.                         | 2026-01-08    | Added 6 new platforms to shared-types/stig.ts: juniper_junos, paloalto, fortinet, f5_bigip, vmware_esxi, vmware_vcenter. Updated Zod schema. Updated AssetsPage.tsx platformOptions with all 16 platforms organized by category.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| #095    | ðŸŸ        | Assets must be editable with STIG selection                      | 2026-01-08    | Added updateTarget function to stig.ts store. Added Edit button and Edit Asset modal to AssetsPage.tsx with full form (name, IP, platform, connection type, port, active status).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| #097    | ðŸŸ        | Add Syslog module to navigation                                  | 2026-01-08    | Added syslog to ModuleType and moduleColors in shared-ui theme. Added syslog nav items to MainLayout.tsx. Created 3 pages: EventsPage (real-time monitoring), SourcesPage (source config), FiltersPage (filter rules). Added routes to App.tsx.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| #098    | ðŸŸ        | Syslog - UDP 514 listener with device/event type parsing         | 2026-01-08    | Created complete syslog backend: apps/syslog/ Python service with asyncio UDP/TCP listener on port 514; RFC 3164/5424 parser with device type detection (cisco, juniper, paloalto, linux, windows, etc.) and event type classification (authentication, security_alert, link_state, etc.); Gateway routes at /api/v1/syslog/\* for sources, events, filters, forwarders, buffer settings; Zustand store for frontend integration.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| #099    | ðŸŸ        | Syslog - 10GB circular buffer before overwrite                   | 2026-01-08    | Implemented in syslog schema: syslog.buffer_settings table with configurable max_size_bytes (default 10GB), retention_days, and auto-cleanup. Collector service monitors buffer usage and triggers cleanup when threshold reached. Events table partitioned by received_at for efficient data management.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| #100    | ðŸŸ        | Syslog - Server off-load / forwarder capability                  | 2026-01-08    | Created apps/syslog/src/syslog/forwarder.py with full forwarding support: UDP/TCP/TLS protocols to external SIEM; configurable filtering by severity/facility/hostname; retry logic with buffering; Gateway routes for forwarder CRUD operations at /api/v1/syslog/forwarders.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| #076    | ðŸŸ        | Need network discovery with ping/SNMPv3 options                  | 2026-01-08    | Created complete NPM discovery feature: npm.discovery_jobs and npm.discovered_hosts tables in PostgreSQL; apps/gateway/src/routes/npm/discovery.ts with full API (start job, view results, add hosts to monitoring); apps/npm/src/npm/collectors/discovery.py Python service for ICMP ping and SNMPv3 scanning with device type detection; NPMDiscoveryPage.tsx frontend with job management, results viewing, and bulk add-to-monitoring.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| #079    | ðŸŸ        | SNMPv3 devices show CPU, Memory, latency, availability           | 2026-01-08    | Created complete device metrics system: npm.device_metrics, npm.interface_metrics, npm.device_availability tables in PostgreSQL with partitioning; apps/npm/src/npm/collectors/snmpv3_poller.py with vendor-specific OIDs for Cisco, Juniper, Palo Alto, Fortinet, Arista; ICMP latency/packet loss polling; Gateway endpoints /devices/:id/metrics (history) and /devices/:id/metrics/current (current); DeviceDetailPage.tsx with real-time metrics display, time-range selectable charts, and 24-hour statistics.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| #084    | ðŸŸ        | Need ability to add and scan networks                            | 2026-01-08    | Enhanced IPAM scanning: apps/ipam/src/ipam/services/scanner.py rewritten with ICMP ping (system subprocess), TCP ping, and NMAP integration with XML parsing; Gateway endpoints already support scan types (ping, tcp, nmap); ipam.ts store updated with fetchScanHistory and fetchScanStatus; NetworkDetailPage.tsx enhanced with scan type selector modal, real-time scan status polling, and scan history display.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| #086    | ðŸŸ        | Need ability to rescan networks                                  | 2026-01-08    | Implemented via #084. Users can re-scan networks at any time using the "Scan Network" button on the Network Detail page with choice of scan type (ICMP Ping, TCP Scan, NMAP Full).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| #088    | ðŸŸ        | Need discovery via PING and NMAP                                 | 2026-01-08    | Implemented via #084. Scanner service supports three methods: ICMP ping (async system subprocess with 2-second timeout), TCP ping (common ports 22,23,80,443), and NMAP full scan (XML output parsing with vendor/OS detection). Frontend allows selection of scan type before starting.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| #093    | ðŸŸ        | Need STIG library to upload/manage STIGs from .zip files         | 2026-01-08    | Created complete STIG Library feature: stig.definition_rules table in PostgreSQL for storing parsed rules; apps/gateway/src/routes/stig/index.ts enhanced with /library/upload (multipart file upload, ZIP extraction, XCCDF XML parsing), /library/:id/rules (paginated rule listing), /library/:id DELETE; Installed fast-xml-parser, unzipper, @fastify/multipart packages; apps/web-ui/src/stores/stig.ts updated with uploadSTIG, deleteSTIG, fetchBenchmarkRules; apps/web-ui/src/modules/stig/pages/LibraryPage.tsx with file upload modal, rules viewer modal, delete confirmation; Navigation and routes added for /stig/library.                                                                                                                                                                                                                                                                                                                                                                                     |
| #096    | ðŸŸ        | Need ability to import .ckl, .cklb, .xml files                   | 2026-01-08    | Created complete checklist import feature: Backend routes in apps/gateway/src/routes/stig/index.ts with POST /import/checklist (supports .ckl, .cklb, .xml file uploads), GET /import/history (list imported checklists); Parses CKL (XML) and CKLB (JSON) formats from STIG Viewer; Helper functions mapCKLStatus and mapCKLSeverity for status/severity mapping; Creates targets and STIG definitions if they don't exist; Creates audit jobs with parsed results; stig.ts store updated with importChecklist and fetchImportHistory functions; LibraryPage.tsx enhanced with tabbed interface (STIG Library / Import History), Import Checklist button and modal with file format info, import history table with DataTable.                                                                                                                                                                                                                                                                                                |
| #085    | ðŸŸ¡       | Need ability to group discovered hosts by site                   | 2026-01-08    | Created complete site grouping for NPM discovered hosts: Added site column to npm.discovery_jobs and npm.discovered_hosts tables with index; Updated discovery.ts API routes: startDiscovery accepts site parameter, GET /jobs/:id/hosts filters by site, PATCH /jobs/:id/hosts/site for bulk site assignment, GET /jobs/:id/sites for distinct site list with counts; Updated npm.ts store with jobSites state, fetchJobSites and updateHostsSite actions, site field in types; DiscoveryPage.tsx enhanced with site input in new discovery modal, site badge on job list, site filter pills in results modal, Assign Site button and modal for bulk site assignment, Site column in hosts table.                                                                                                                                                                                                                                                                                                                             |
| #087    | ðŸŸ¡       | Need ability to fingerprint discovered hosts                     | 2026-01-08    | Implemented comprehensive host fingerprinting: Added os_family, icmp_ttl, open_ports, fingerprint_confidence columns to npm.discovered_hosts table; Enhanced discovery.py with OUI_VENDORS dictionary (60+ MAC prefixes for Cisco, Juniper, Arista, Palo Alto, Fortinet, HPE/Aruba, Ubiquiti, MikroTik, etc.); get_vendor_from_mac() function for MAC OUI vendor lookup; detect_os_from_ttl() function for OS family detection (Linux/Unix TTLâ‰¤64, Windows TTLâ‰¤128, Network Device TTLâ‰¤255); Enhanced detect_device_type() with model extraction patterns for Cisco (Catalyst, Nexus), Juniper (SRX, EX, MX, QFX), Palo Alto (PA-), Fortinet (FortiGate), Arista (DCS-); Confidence scoring: low (TTL only), medium (SNMP response), high (vendor+model detected); Updated \_scan_host() and \_save_discovered_host() methods; API returns icmpTtl, osFamily, fingerprintConfidence fields; DiscoveryPage.tsx displays OS Family column with TTL info and Confidence badge (color-coded: green=high, yellow=medium, gray=low). |
| #089    | ðŸŸ¡       | Need ability to delete scans                                     | 2026-01-08    | Created complete scan deletion feature: Backend DELETE /api/v1/ipam/scans/:scanId endpoint with validation (cannot delete running scans, returns 400 with error message); Protected by admin/operator role; ipam.ts store updated with deleteScan function that removes scan from scanJobs list and clears currentScan if matching; NetworkDetailPage.tsx enhanced with delete button (trash icon) on each scan in history, only shown for completed/failed scans, confirmation dialog before deletion.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| #090    | ðŸŸ¡       | Need ability to modify scan attributes                           | 2026-01-08    | Implemented complete scan attribute modification: Added name and notes columns to ipam.scan_history table; Backend PATCH /api/v1/ipam/scans/:scanId endpoint with validation (cannot modify running/pending scans); Updated GET scan endpoints to return name and notes fields; ScanJob interface in shared-types updated with name and notes fields; ipam.ts store updated with updateScan function; NetworkDetailPage.tsx enhanced with edit button (pencil icon) on each scan in history, scan list displays custom name (or scan type as fallback) and notes preview, Edit Scan Modal with name input and notes textarea.                                                                                                                                                                                                                                                                                                                                                                                                  |
| #091    | ðŸŸ¡       | Need ability to export scan reports to PDF and CSV               | 2026-01-08    | Created complete scan export functionality: apps/gateway/src/routes/ipam/reports.ts with pdfmake for PDF generation; GET /api/v1/ipam/scans/:scanId/export?format=pdf\|csv generates scan report with summary (network, scan type, status, dates, total/active/new IPs), notes, and discovered addresses table; GET /api/v1/ipam/networks/:id/export?format=pdf\|csv generates network report with details and address list; ipam.ts store updated with exportScan and exportNetwork functions using blob download; NetworkDetailPage.tsx enhanced with PDF and CSV export buttons (download icons) on each completed/failed scan in history.                                                                                                                                                                                                                                                                                                                                                                                  |
| #077    | ðŸŸ        | Need ability to add devices discovered by IPAM                   | 2026-01-08    | Created complete IPAM-to-NPM integration: Backend endpoint POST /api/v1/ipam/addresses/add-to-npm in apps/gateway/src/routes/ipam/index.ts; Accepts array of IPAM address IDs with polling options (ICMP, SNMPv3, poll interval); Validates SNMPv3 credential exists if SNMP enabled; Skips addresses already in NPM monitoring; ipam.ts store updated with addAddressesToNpm function and AddToNpmInput/AddToNpmResponse types; NetworkDetailPage.tsx enhanced with row selection in IP Addresses table, "Add to NPM" button appears when rows selected, modal with polling method selection (ICMP/SNMPv3), SNMPv3 credential dropdown, poll interval selector; DataTable component updated to support row selection (rowSelection and onRowSelectionChange props).                                                                                                                                                                                                                                                           |
| #081    | ðŸŸ        | Need ability to monitor 3000 devices with volumes/interfaces     | 2026-01-08    | Scaled NPM for enterprise deployments: Increased pagination limits from 100 to 500 devices per page for efficient bulk loading; Added npm.volumes table for storage monitoring with volume_index, type, mount_point, total/used_bytes; Added npm.volume_metrics partitioned table for volume utilization history; Created API endpoints: GET /devices/:id/interfaces (list device interfaces), GET /interfaces/:id/metrics (interface metrics history), GET /devices/:id/volumes (list device volumes), GET /volumes/:id/metrics (volume metrics history), GET /dashboard (optimized summary stats), GET /devices/status (lightweight bulk status for dashboards); All queries optimized with proper indexes and aggregate functions for 3000+ device support.                                                                                                                                                                                                                                                                 |
| #078    | ðŸŸ¡       | Need ability to export NPM Status/Health to PDF                  | 2026-01-08    | Created complete PDF/CSV export functionality: apps/gateway/src/routes/npm/reports.ts with pdfmake library for PDF generation; GET /api/v1/npm/reports/health endpoint generates health report with format=pdf (default) or format=csv; Includes summary statistics (total devices, up/down/unknown counts), device list with optional metrics (latency, CPU, memory, 24h availability), and active alerts section; GET /api/v1/npm/reports/devices/:id for single device PDF reports with device info, 24h performance metrics, interfaces list, and recent alerts; Reports include headers, footers, page numbers, and styled tables; Installed pdfmake and @types/pdfmake packages.                                                                                                                                                                                                                                                                                                                                         |
| #052    | ðŸŸ¢       | Windows: Docker not in PATH by default                           | 2026-01-08    | Docker Desktop bin directory not automatically in PATH on fresh Windows installs. Workaround: Use full path `C:\Program Files\Docker\Docker\resources\bin\docker.exe` or add to system PATH manually.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| #053    | ðŸŸ¡       | Windows: Docker credential helper not in PATH                    | 2026-01-08    | `docker-credential-desktop` executable not found causes pulls to fail. Fix: Remove `"credsStore": "desktop"` line from `%USERPROFILE%\.docker\config.json` to use default file-based credential storage.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| #054    | ðŸŸ¢       | Windows: .env requires manual password setup                     | 2026-01-08    | Docker Compose requires REDIS_PASSWORD and GRAFANA_PASSWORD to be set. Fix: Copy .env.example to .env and set `REDIS_PASSWORD=dev-redis-password` and `GRAFANA_PASSWORD=dev-grafana-password`.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| #101    | ðŸ”´       | IPAM TCP/NMAP scans stuck at pending status (Windows)            | 2026-01-08    | Background scan execution using async IIFE was not reliably starting on Windows. Root cause: async function wrapped in IIFE `(async () => { ... })()` was not keeping the event loop alive after HTTP response returned. Fix: Changed to `setImmediate(async () => { ... })` to ensure scan runs on next event loop tick; Added `net` module import at top level (was using `require` inside function); Improved TCP connect with double-resolution protection and timeout event handler; Added comprehensive error logging with stack traces; Wrapped database error updates in try-catch to prevent silent failures. Files modified: `apps/gateway/src/routes/ipam/index.ts`.                                                                                                                                                                                                                                                                                                                                                |
| #102    | ðŸŸ        | NPM - Poll Now button with Ping/SNMPv3 method selection          | 2026-01-09    | Created complete Poll Now functionality: Backend POST /api/v1/npm/devices/:id/poll endpoint with method selection (icmp, snmp); Validates device capabilities and credentials; ICMP polling via child_process ping with latency parsing; Updates device status and inserts metrics record; Frontend DevicesPage.tsx with Poll button in table actions column and Poll Now modal; DeviceDetailPage.tsx with Poll Now button in header; Poll modal includes method checkboxes (disabled if not enabled on device), poll results display (latency, status), and Poll Again option; npm.ts store updated with pollDevice action and PollDeviceResponse type.                                                                                                                                                                                                                                                                                                                                                                       |
| #103    | ðŸ”´       | NPM - Continuous background polling (5 min default)              | 2026-01-09    | Created complete background polling service: apps/gateway/src/plugins/background-poller.ts with BackgroundPoller class; Configurable via env vars NPM_POLLER_ENABLED, NPM_POLL_INTERVAL_MS (default 5 min), NPM_MAX_CONCURRENT_POLLS (50), NPM_POLL_BATCH_SIZE (100); Polls active devices where last_poll + poll_interval < NOW(); ICMP ping with latency parsing and status update; Inserts metrics records; API endpoints: GET /api/v1/npm/poller/status, POST /start, POST /stop (admin only); Frontend DevicesPage.tsx shows "Auto-Polling" indicator with green pulse when running, poll interval displayed, hover shows cycle count and active polls; npm.ts store updated with pollerStatus state and fetchPollerStatus action; Poller starts automatically on gateway startup if enabled.                                                                                                                                                                                                                             |
| #104    | ðŸ”´       | NPM - Poll Now fails with PostgreSQL parameter type error        | 2026-01-10    | Multiple fixes: 1) Created missing database tables (npm.device_metrics, npm.device_groups, npm.volumes, npm.volume_metrics, npm.discovery_jobs, npm.discovered_hosts, npm.device_availability, npm.interface_metrics) with proper schema and indexes. 2) Added missing group_id column to npm.devices table with foreign key to npm.device_groups. 3) Removed explicit ::boolean casts from INSERT statements in apps/gateway/src/routes/npm/index.ts and apps/gateway/src/plugins/background-poller.ts - PostgreSQL automatically handles JavaScript boolean conversion. 4) Added ::varchar type hint to UPDATE CASE statement to resolve "inconsistent types deduced for parameter $1" error when same parameter used in SET and WHERE clauses.                                                                                                                                                                                                                                                                              |
| #105    | ðŸŸ        | NPM - Intuitive SNMPv3 enablement in Device Properties           | 2026-01-10    | Created comprehensive Device Settings modal on DeviceDetailPage.tsx: Added "Settings" button (gear icon) next to "Poll Now" in device detail header; Settings modal allows editing: device name, polling methods (ICMP Ping, SNMPv3 with explanation of each), SNMPv3 credential selection from dropdown (with link to create credentials), SNMP port, and poll interval; Form validation prevents saving without required fields; Uses existing updateDevice store action; Imported useSNMPv3CredentialsStore for credentials dropdown; Added Input and Select components from shared-ui.                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| #106    | ðŸŸ        | IPAM - Allow multi-select scan types (Ping+TCP+NMAP)             | 2026-01-10    | Updated IPAM network scan to allow selecting multiple scan types simultaneously: Frontend NetworkDetailPage.tsx changed scan modal from radio buttons to checkboxes with Set-based state management; Button shows count of selected types; Updated ipam.ts store startScan to accept string[] array instead of single string; Backend apps/gateway/src/routes/ipam/index.ts updated /networks/:id/scan endpoint to accept scanTypes array parameter (backwards compatible with single scanType); Runs each scan type sequentially and aggregates results; Combined scan type stored in database as "ping+tcp+nmap" format; Scan history displays combined types in UI.                                                                                                                                                                                                                                                                                                                                                         |
| #107    | ðŸŸ        | IPAM - Fingerprinting not working                                | 2026-01-10    | Enhanced nmap scan to extract fingerprinting data from XML output: Added NmapHostInfo interface to track ip, hostname, mac, vendor; Added -R flag to nmap command for DNS resolution; Added regex patterns for MAC address (with vendor attr), hostname extraction from nmap XML; Database INSERT/UPDATE now includes hostname, mac_address, device_type (vendor) fields; Uses COALESCE to preserve existing data when nmap doesn't find new info; Added detailed logging showing counts of hosts with hostnames/MACs. Files modified: apps/gateway/src/routes/ipam/index.ts runNmapScan function.                                                                                                                                                                                                                                                                                                                                                                                                                             |
| #108    | ðŸŸ¡       | IPAM - Show all results on page (pagination)                     | 2026-01-10    | Added page size selector to DataTable component: New props showPageSizeSelector and pageSizeOptions; Dynamic pageSize state with dropdown selector showing 10/25/50/100/All options; Applied to NetworkDetailPage.tsx IP Addresses table with pageSizeOptions [10, 25, 50, 100, 250] and "All" option; Pagination controls now always show when selector enabled. Files modified: packages/shared-ui/src/components/data-display/DataTable.tsx, apps/web-ui/src/modules/ipam/pages/NetworkDetailPage.tsx.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| #109    | ðŸŸ¡       | IPAM - Delete scans from Networks Page                           | 2026-01-10    | Added scan management to Networks Page: New "Scans" column showing scan count and last scan date per network; Action column with Quick Scan (magnifying glass) and View Scans (clipboard) buttons; Scans modal shows all scans for selected network with status badges and delete buttons; fetchNetworkScans callback fetches scan data for all networks; handleDeleteScan with confirmation and refresh; handleQuickScan for one-click ping scan. Files modified: apps/web-ui/src/modules/ipam/pages/NetworksPage.tsx.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| #110    | ðŸ”´       | IPAM - View Scans API fails: "column name does not exist"        | 2026-01-10    | Fixed SQL query in GET /api/v1/ipam/networks/:id/scans endpoint that referenced non-existent `name` and `notes` columns. The ipam.scan_history table schema doesn't include these columns. Removed `name` and `notes` from SELECT query and response mapping. Frontend gracefully handles missing name by falling back to `scan.scanType.toUpperCase()`. Files modified: apps/gateway/src/routes/ipam/index.ts (lines 1127-1149).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| #111    | ðŸ”´       | IPAM - NMAP scans fail: "nmap is not installed or not in PATH"   | 2026-01-10    | NMAP scans were failing because nmap was not installed in the gateway Docker container. Fix: Updated apps/gateway/Dockerfile development stage to install nmap and nmap-scripts packages via apk (`apk add --no-cache nmap nmap-scripts`). Rebuilt gateway container with `docker compose build gateway`. NMAP 7.97 now available in container. Note: Fingerprinting data (MAC addresses, vendor) requires gateway to be on same network segment as scanned hosts; DNS reverse lookup must be configured for hostname resolution. Files modified: apps/gateway/Dockerfile.                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| #112    | ðŸŸ¡       | IPAM - MAC addresses not detected in NMAP scans (Docker network) | 2026-01-10    | NMAP MAC address fingerprinting not working due to Docker network isolation. Root cause: Docker bridge network places containers on different Layer 2 segment than physical LAN hosts. NMAP can only detect MAC addresses for hosts on the same subnet. Fix: Added `network_mode: host` option to docker-compose.yml gateway service (commented by default); Updated README.md with "MAC Address Detection (Fingerprinting)" section explaining limitation and workaround; Updated CONTEXT.md with "Enabling Full Fingerprinting" instructions. Note: `network_mode: host` not supported on Docker Desktop for macOS/Windows. For hostname detection, DNS PTR records must be configured. Files modified: docker-compose.yml, README.md, CONTEXT.md.                                                                                                                                                                                                                                                                           |
| APP-001 | ðŸ”´       | Gateway not responding on /healthz                               | 2026-01-10    | Fixed gateway Docker health check: Changed endpoint from `/health` to `/healthz` (matching actual gateway route); Changed hostname from `localhost` to `127.0.0.1` (localhost doesn't resolve in Alpine containers). Files modified: docker-compose.yml (gateway healthcheck).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| APP-002 | ðŸ”´       | Auth service unhealthy; blocks gateway startup                   | 2026-01-10    | Auth service was healthy but gateway health check was failing due to misconfigured endpoint (see APP-001). Additionally ensured admin user is active in database with correct password hash. All 20 services verified healthy after fix.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| APP-003 | ðŸŸ¡       | Grafana health check fails (preflight port mismatch)             | 2026-01-10    | Fixed preflight.sh: Changed default GRAFANA_PORT from 3000 to 3002 to match docker-compose.yml configuration; Added .env file sourcing at script start to pick up environment overrides. Files modified: Testing/infrastructure/preflight.sh.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
| APP-004 | ðŸŸ        | NPM collector/alerts crash on startup (structlog logger)         | 2026-01-10    | Fixed structlog configuration: PrintLogger doesn't support `logger.name` attribute. Changed to use `structlog.stdlib.LoggerFactory()` or configured processors to not require logger name. NPM collector and alerts services now start without crashes.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| APP-005 | ðŸŸ        | STIG collector/reports crash on import (staticmethod type)       | 2026-01-10    | Fixed STIG reports generator.py: Changed from `subscribe()` (push) to `pull_subscribe()` with ConsumerConfig for proper JetStream pull subscription; Added `stig.results.*` to stream subjects in nats_handler.py; Changed exception from `nats.errors.TimeoutError` to `asyncio.TimeoutError`. Files modified: apps/stig/src/stig/reports/generator.py, apps/stig/src/stig/collectors/nats_handler.py.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| APP-006 | ðŸŸ¡       | IPAM scanner restart loop with module re-import warning          | 2026-01-10    | Fixed module import structure in IPAM scanner to avoid double-import of `ipam.collectors.nats_handler`. IPAM scanner now runs as stable long-running process without restart warnings.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| SR-001  | ðŸ”´       | Default admin seed credentials in repo                           | 2026-01-10    | Made JWT_SECRET a required field in STIG config.py (no default value); Application fails fast on startup if JWT_SECRET environment variable is not set. Admin password changed from hardcoded default.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| SR-002  | ðŸ”´       | Hardcoded default JWT secret in STIG config                      | 2026-01-10    | Removed default value from `jwt_secret` field in apps/stig/src/stig/core/config.py. Changed from `Field(default="...")` to `Field(..., alias="JWT_SECRET")` making it required. Application fails with clear error if not set.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| SR-003  | ðŸŸ¡       | JWT audience/issuer verification disabled in STIG                | 2026-01-10    | Enabled JWT audience and issuer claim verification: Added `jwt_issuer` (default: "netnynja-enterprise") and `jwt_audience` (default: "netnynja-api") to STIG config.py; Updated auth.py `jwt.decode()` to validate `audience` and `issuer` claims. Tokens from other services will now be rejected.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| SR-004  | ðŸ”´       | Default encryption key + static salt for SNMPv3 credentials      | 2026-01-10    | Fixed via SR-005 (NPM credential encryption). Gateway SNMPv3 encryption already uses proper key derivation. Key now required via environment variable.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| SR-005  | ðŸŸ¡       | NPM crypto uses JWT_SECRET fallback with static salt             | 2026-01-10    | Complete rewrite of apps/npm/src/npm/services/crypto.py: Added dedicated `NPM_CREDENTIAL_KEY` environment variable (required, min 32 chars); Implemented per-encryption random salts (16 bytes) prepended to ciphertext; Using PBKDF2HMAC with SHA256 for key derivation (100,000 iterations); Fernet symmetric encryption. Updated docker-compose.yml with NPM_CREDENTIAL_KEY for npm-service, npm-collector, npm-alerts.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| SR-006  | ðŸŸ¡       | Unauthenticated /metrics endpoint                                | 2026-01-10    | Added IP allowlist to /metrics endpoint: New config options METRICS_AUTH_ENABLED (default: true) and METRICS_ALLOWED_IPS (default: 127.0.0.1, ::1, 10.0.0.0/8, 172.16.0.0/12, 192.168.0.0/16); Implemented CIDR range checking with `isIpInRange()` function; Returns 403 Forbidden for unauthorized IPs. Files modified: apps/gateway/src/config.ts, apps/gateway/src/plugins/metrics.ts.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
| SR-007  | ðŸŸ¡       | Auth tokens stored in localStorage (XSS vulnerable)              | 2026-01-10    | Implemented HttpOnly cookies for refresh tokens: Auth service now sets `refreshToken` as HttpOnly, Secure (in production), SameSite=Strict cookie; Gateway forwards Set-Cookie headers and cookies to auth service; Frontend stores only accessToken (short-lived) in localStorage; Refresh token sent automatically via cookie. Files modified: services/auth-service/src/routes.ts, services/auth-service/src/index.ts, apps/gateway/src/routes/auth.ts, apps/web-ui/src/stores/auth.ts, apps/web-ui/src/lib/api.ts.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
| SR-008  | ðŸŸ¡       | CORS defaults to origin:true with credentials                    | 2026-01-10    | Changed CORS default from `origin: true` to explicit allowlist: Default CORS_ORIGIN now `http://localhost:5173,http://localhost:3000`; Added production check that exits with error if CORS_ORIGIN=true in production environment; Prevents wildcard origin with credentials. Files modified: apps/gateway/src/config.ts.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| SR-012  | ðŸŸ¡       | Prettier fails on Helm templates (CI blocker)                    | 2026-01-10    | Excluded Helm templates directory from Prettier configuration. Charts templates now bypassed during format checks. CI pipeline passes without Helm template formatting errors.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| APP-007 | ðŸŸ¢       | Preflight trace count warning (integer parsing error)            | 2026-01-10    | Fixed integer parsing in preflight.sh: Added `tr -d '\n'` to strip newlines from grep output; Added validation to ensure services variable is numeric (defaults to 0 if empty/non-numeric); Prevents "integer expression expected" warning during Jaeger trace count check. Files modified: Testing/infrastructure/preflight.sh.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| SR-011  | ðŸŸ¢       | npm audit: React Router XSS + esbuild advisory                   | 2026-01-10    | Ran `npm audit fix` which updated react-router packages to resolve high-severity XSS vulnerability (GHSA-2w69-qvjg-hvjx). Remaining esbuild advisory (GHSA-67mh-4wv8-2f99) is moderate severity and only affects dev server scenarios (not production). Upgrading esbuild requires major vite version bump (5.x â†’ 6.x+) which is a breaking change; recommended for future sprint when vite 6.x migration is planned.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
| APP-008 | ðŸ”´       | NATS JetStream stream name mismatch in E2E preflight             | 2026-01-10    | Preflight checks expected stream names (IPAM_DISCOVERY, STIG_AUDIT) that didn't match actual service-created streams (IPAM, STIG). Updated preflight.sh, setup-nats-streams.ts, and test_06_integration.py to use actual stream names: IPAM, NPM_METRICS, STIG. Services create streams on startup; setup script ensures they exist for E2E tests.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| SEC-004 | ðŸŸ¢       | trustProxy accepts any X-Forwarded-For header                    | 2026-01-10    | Made trustProxy configurable via TRUST_PROXY environment variable. Supports "true" (trust all), "false" (disable), or comma-separated IPs/CIDRs (recommended for production). Added production warning when TRUST_PROXY=true. Files modified: apps/gateway/src/config.ts, apps/gateway/src/index.ts.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
| SR-009  | ðŸŸ¢       | NATS connection lacks TLS/auth enforcement                       | 2026-01-10    | Added NATS TLS and authentication support to all Python services: Added nats_user, nats_password, nats_tls_enabled, nats_tls_ca config fields to apps/ipam/src/ipam/core/config.py, apps/npm/src/npm/core/config.py, apps/stig/src/stig/core/config.py; Updated nats_handler.py connect() methods in IPAM, NPM, and STIG to build connection options with optional auth credentials and TLS context; Logs nats_auth_enabled and nats_tls_enabled when configured. Production environments can now require NATS_USER, NATS_PASSWORD, and NATS_TLS_ENABLED=true via environment variables.                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| SR-010  | ðŸŸ¢       | Prometheus metrics label escaping and cardinality                | 2026-01-10    | Added escape_label_value() helper function to both apps/npm/src/npm/services/metrics.py and apps/ipam/src/ipam/services/metrics.py; Function escapes backslash, double-quote, and newline characters per Prometheus text format specification; Applied escaping to all label values in push_device_metrics, push_interface_metrics, push_network_utilization, push_scan_metrics, query_metric_history, and query_utilization_history methods. Prevents metric format corruption when device/network names contain special characters.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |

---

## Issue Template

```markdown
### Issue #XXX: [Title]

**Priority**: ðŸ”´/ðŸŸ /ðŸŸ¡/ðŸŸ¢
**Category**: Infrastructure / Security / Application / Documentation
**Reported**: YYYY-MM-DD
**Assignee**:

#### Description

[Detailed description of the issue]

#### Steps to Reproduce (if applicable)

1.
2.
3.

#### Expected Behavior

[What should happen]

#### Actual Behavior

[What actually happens]

#### Proposed Solution

[How to fix it]

#### Related Issues

- #XXX
```

---

## Notes

- Issues are tracked here for visibility, but should also be created in GitHub Issues for proper tracking
- Update status during development
- Close issues with resolution notes
